{% doc %}
  @prompt
    generate another section to showcase our publishers with their logos in circuar shape images with 3 per row in mobile and 6 per row in deesktop, add shadow effect to give them 3d view. and the entire section should be alligned in to be in center of the screen., too much shadow effet, reduce it., spread the shadow equally on all directions and gradiently instead of cutting as line, width is overflowing, keep it contained in the screen, for each logo i need a link also to connect a collection, provide a facility to choose the number of publisher logos to be displayed., provide a text field to enter the name of the publisher, need shadow effect on hover and change the term publisher to farmer in everywhere
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-farmers-section-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding: 40px 20px;
    background-color: {{ block.settings.background_color }};
    overflow: hidden;
  }

  .ai-farmers-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
  }

  .ai-farmers-heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0 0 40px;
  }

  .ai-farmers-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    justify-items: center;
    align-items: center;
    width: 100%;
  }

  .ai-farmer-item-{{ ai_gen_id }} {
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }

  .ai-farmer-link-{{ ai_gen_id }} {
    display: block;
    text-decoration: none;
    width: 100%;
    max-width: 100px;
  }

  .ai-farmer-logo-wrapper-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 1;
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, {{ block.settings.shadow_opacity }});
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    background-color: #ffffff;
  }

  .ai-farmer-link-{{ ai_gen_id }}:hover .ai-farmer-logo-wrapper-{{ ai_gen_id }} {
    transform: translateY(-5px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, {{ block.settings.hover_shadow_opacity }});
  }

  .ai-farmer-logo-wrapper-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-farmer-logo-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-farmer-logo-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-farmer-name-{{ ai_gen_id }} {
    font-size: {{ block.settings.name_size }}px;
    color: {{ block.settings.name_color }};
    text-align: center;
    margin: 0;
    word-break: break-word;
  }

  @media screen and (min-width: 750px) {
    .ai-farmers-grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(6, 1fr);
      gap: 30px;
    }

    .ai-farmer-link-{{ ai_gen_id }} {
      max-width: {{ block.settings.logo_size }}px;
    }
  }
{% endstyle %}

<farmer-showcase-{{ ai_gen_id }}
  class="ai-farmers-section-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-farmers-container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank %}
      <h2 class="ai-farmers-heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
    {% endif %}

    <div class="ai-farmers-grid-{{ ai_gen_id }}">
      {% for i in (1..block.settings.farmer_count) %}
        {% liquid
          assign logo_key = 'farmer_logo_' | append: i
          assign collection_key = 'farmer_collection_' | append: i
          assign name_key = 'farmer_name_' | append: i
          assign logo = block.settings[logo_key]
          assign collection = block.settings[collection_key]
          assign name = block.settings[name_key]
        %}

        <div class="ai-farmer-item-{{ ai_gen_id }}">
          {% if collection %}
            <a href="{{ collection.url }}" class="ai-farmer-link-{{ ai_gen_id }}">
              <div class="ai-farmer-logo-wrapper-{{ ai_gen_id }}">
                {% if logo %}
                  <img
                    src="{{ logo | image_url: width: 400 }}"
                    alt="{{ name | default: collection.title }}"
                    loading="lazy"
                    width="400"
                    height="400"
                  >
                {% else %}
                  <div class="ai-farmer-logo-placeholder-{{ ai_gen_id }}">
                    {{ 'image' | placeholder_svg_tag }}
                  </div>
                {% endif %}
              </div>
            </a>
          {% else %}
            <div class="ai-farmer-link-{{ ai_gen_id }}">
              <div class="ai-farmer-logo-wrapper-{{ ai_gen_id }}">
                {% if logo %}
                  <img
                    src="{{ logo | image_url: width: 400 }}"
                    alt="{{ name | default: 'Farmer' }}"
                    loading="lazy"
                    width="400"
                    height="400"
                  >
                {% else %}
                  <div class="ai-farmer-logo-placeholder-{{ ai_gen_id }}">
                    {{ 'image' | placeholder_svg_tag }}
                  </div>
                {% endif %}
              </div>
            </div>
          {% endif %}

          {% if name != blank %}
            <p class="ai-farmer-name-{{ ai_gen_id }}">{{ name }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</farmer-showcase-{{ ai_gen_id }}>

<script>
  (function() {
    class FarmerShowcase{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
      }
    }

    customElements.define('farmer-showcase-{{ ai_gen_id }}', FarmerShowcase{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Farmer showcase",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "Our Farmers"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading size",
      "min": 16,
      "max": 72,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "farmer_count",
      "label": "Number of farmers",
      "min": 1,
      "max": 12,
      "step": 1,
      "default": 6
    },
    {
      "type": "header",
      "content": "Logo style"
    },
    {
      "type": "range",
      "id": "logo_size",
      "label": "Logo size",
      "min": 80,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 150
    },
    {
      "type": "range",
      "id": "shadow_opacity",
      "label": "Shadow opacity",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "default": 0.1
    },
    {
      "type": "range",
      "id": "hover_shadow_opacity",
      "label": "Hover shadow opacity",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "default": 0.2
    },
    {
      "type": "header",
      "content": "Name style"
    },
    {
      "type": "range",
      "id": "name_size",
      "label": "Name size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "name_color",
      "label": "Name color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Farmer 1"
    },
    {
      "type": "text",
      "id": "farmer_name_1",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_1",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_1",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 2"
    },
    {
      "type": "text",
      "id": "farmer_name_2",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_2",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_2",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 3"
    },
    {
      "type": "text",
      "id": "farmer_name_3",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_3",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_3",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 4"
    },
    {
      "type": "text",
      "id": "farmer_name_4",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_4",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_4",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 5"
    },
    {
      "type": "text",
      "id": "farmer_name_5",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_5",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_5",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 6"
    },
    {
      "type": "text",
      "id": "farmer_name_6",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_6",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_6",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 7"
    },
    {
      "type": "text",
      "id": "farmer_name_7",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_7",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_7",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 8"
    },
    {
      "type": "text",
      "id": "farmer_name_8",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_8",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_8",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 9"
    },
    {
      "type": "text",
      "id": "farmer_name_9",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_9",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_9",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 10"
    },
    {
      "type": "text",
      "id": "farmer_name_10",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_10",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_10",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 11"
    },
    {
      "type": "text",
      "id": "farmer_name_11",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_11",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_11",
      "label": "Collection"
    },
    {
      "type": "header",
      "content": "Farmer 12"
    },
    {
      "type": "text",
      "id": "farmer_name_12",
      "label": "Name"
    },
    {
      "type": "image_picker",
      "id": "farmer_logo_12",
      "label": "Logo"
    },
    {
      "type": "collection",
      "id": "farmer_collection_12",
      "label": "Collection"
    }
  ],
  "presets": [
    {
      "name": "Farmer showcase"
    }
  ]
}
{% endschema %}
